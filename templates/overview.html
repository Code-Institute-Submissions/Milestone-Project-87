{% extends "base.html" %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col">
            <h3 class="standard-heading title-margin-top">Welcome {{ session.username }}! <br> Let's get you set up and ready to start Move[ing]On</h3>
        </div>
    </div>
    <!--Following source used as guide for list item: https://www.geeksforgeeks.org/todo-list-app-using-flask-python/-->
    <div class="row">
        <div class="col">
            <h4 class="smaller-heading"> Pending tasks: </h4>
            {% for task in tasks %}
            {% if (task.complete == False) and  (task.username == session.username) %}
            <ul>
                <li>{{task.task_title}}
                    <a class="btn task-btn complete-btn" href="{{url_for('complete_task')}}">Complete</a>
                    <a class="btn task-btn edit-btn" href="{{url_for('update_tasks')}}">Edit</a>
                    <a class="btn task-btn delete-btn" href="{{url_for('delete_task')}}">Delete</a>
                    <ul>
                        <li>{{task.task_info}}</li>
                        <li>{{task.delegation}}</li>
                        <li>{{task.task_due}}</li>
                    </ul>
                </li>
            </ul>
            {% elif (task.complete == True) and  (task.username == session.username) %}
        </div>
    </div>
    <div class="row">
        <div class="col">
            <h4 class="smaller-heading"> Completed tasks: </h4>
            <ul>
                <li>{{task.task_title}}
                    <a class="btn task-btn delete-btn" href="{{url_for('delete_task')}}">Delete</a>
                    <ul>
                        <li>{{task.task_info}}</li>
                        <li>{{task.delegation}}</li>
                        <li>{{task.task_due}}</li>
                    </ul>
                </li>
            </ul>
            {% endif %}
            {% endfor %}
            <!--For loop with if statement to print message if users don't have any tasks yet-->
            {% for task in tasks %}
            {% if task.username == session.username is none %}
            <h4 class="smaller-heading"> It looks like you don't have any tasks yet! Why not get started by adding some below?</h4>
            {% endif %}
            {% endfor %}          
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-12 text-center">
            <h4 class="smaller-heading">Thought of a new task to add?</h4>   
            <a class="btn sign-in-btn" id="redirect-signin-btn" href="{{url_for('new_task')}}">Add new task</a>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-12 text-center">
            <img class="main-image" src="{{url_for('static', filename='/images/' + 'undraw_accepted_request.png')}}" alt="Writing a to do list" />
        </div>
    </div>
</div>
{% endblock %}